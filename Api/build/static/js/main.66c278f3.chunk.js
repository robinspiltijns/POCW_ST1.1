(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{114:function(e,t,n){},118:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(49),r=n.n(o),s=n(2),c=n(3),l=n(5),u=n(4),h=n(6),f=n(11),m=n(17),d=n.n(m),g=n(50),p=n(51),v=n.n(p),O=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).slaveChannel=d()("/slaveChannel"),e.state={id:v.a.load("token")},e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("my state:  "+JSON.stringify(this.state)),this.slaveChannel.emit("slaveJoin",this.state),this.slaveChannel.on("setState",(function(t){console.log(JSON.stringify(t)),e.setState(t)}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(g.Helmet,null,i.a.createElement("style",null,"body {background-color: ".concat(this.state.color,"; }"))),i.a.createElement("h1",null,"Thanks! You can close this page now."))}}]),t}(i.a.Component),b=n(7),w=n(52),k=(n.n(w).a.create("penocw04.student.cs.kuleuven.be"),n(114),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).canvasRef=i.a.createRef(),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.angle,t=this.canvasRef.current,n=t.getContext("2d"),a=t.width,i=t.height;n.save(),n.beginPath(),n.clearRect(0,0,a,i),n.translate(a/2,i/2),n.rotate(e*Math.PI/180),n.fillStyle="#4397AC",n.fillRect(-a/4,-i/4,a/2,i/2),n.restore()}},{key:"render",value:function(){return i.a.createElement("canvas",{width:"300",height:"300",ref:this.canvasRef})}}]),t}(i.a.Component)),y=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={angle:0},n.updateAnimationState=n.updateAnimationState.bind(Object(b.a)(n)),n.fpsAnimation=n.fpsAnimation.bind(Object(b.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.fpsAnimation()}},{key:"fpsAnimation",value:function(){var e=this;setInterval((function(){e.props.running&&e.setState((function(e){return{angle:e.angle+1}}))}),16)}},{key:"updateAnimationState",value:function(){this.setState((function(e){return{angle:e.angle+1}})),this.rAF=requestAnimationFrame(this.updateAnimationState)}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.rAF)}},{key:"render",value:function(){return i.a.createElement(k,{angle:this.state.angle})}}]),t}(i.a.Component),S=0,j=0,E=500,C=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).sendA=e.sendA.bind(Object(b.a)(e)),e.start=e.start.bind(Object(b.a)(e)),e.toggleAnimation=e.toggleAnimation.bind(Object(b.a)(e)),e.canvas=i.a.createRef(),e.state={animate:!1,backgroundColor:"WHITE",offset:0,OS:"",Browser:"",latency:0,toEnd:!1,browserDimensions:[window.innerWidth,window.innerHeight]},e.loginChannel=d()("/loginChannel"),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"getOS",value:function(){return this.OSName="",-1!==navigator.appVersion.indexOf("Mobile")?(-1!==navigator.appVersion.indexOf("iPhone")&&(this.OSName="IOS"),-1!==navigator.appVersion.indexOf("Android")&&(this.OSName="Android")):(-1!==navigator.appVersion.indexOf("X11")&&(this.OSName="UNIX"),-1!==navigator.appVersion.indexOf("Linux")&&(this.OSName="Linux"),-1!==navigator.appVersion.indexOf("Mac")&&(this.OSName="MacOS"),-1!==navigator.appVersion.indexOf("Win")&&(this.OSName="Windows")),this.OSName}},{key:"getBrowser",value:function(){return this.BrowserVersion="",-1!==navigator.appVersion.indexOf("Opera")?this.BrowserVersion="Opera":-1!==navigator.appVersion.indexOf("Edge")?this.BrowserVersion="Edge":-1!==navigator.appVersion.indexOf("Chrome")?this.BrowserVersion="Chrome":-1!==navigator.appVersion.indexOf("Safari")?this.BrowserVersion="Safari":-1!==navigator.appVersion.indexOf("FireFox")?this.BrowserVersion="FireFox":-1!==navigator.appVersion.indexOf("MSIE")?this.BrowserVersion="Internet Explorer":-1!==navigator.appCodeName.indexOf("Mozilla")&&(this.BrowserVersion="Firefox"),this.BrowserVersion}},{key:"componentDidMount",value:function(){var e=this;this.offset=0,this.sendA(),this.loginChannel.on("b",(function(t){var n=Date.now();e.latency=(n-e.startTime)/2,e.currentOffset=n-t-e.latency,++S>10&&(e.offset=(j*e.offset+e.currentOffset)/(j+1),j++),e.setState({offset:e.offset}),E=20*e.latency})),this.loginChannel.on("go",(function(t){e.setState({backgroundColor:"GREEN"}),console.log("date: "+t),console.log("offset: "+e.state.offset),console.log("now: "+Date.now()),console.log("total: "+t-e.state.offset-Date.now()),setTimeout((function(){e.setState({backgroundColor:"BLUE"})}),t+e.state.offset-Date.now())}))}},{key:"sendA",value:function(){var e=this;setTimeout((function(){e.startTime=Date.now(),e.loginChannel.emit("a"),e.sendA()}),E)}},{key:"start",value:function(){this.loginChannel.emit("start")}},{key:"toggleAnimation",value:function(){this.setState((function(e){return{animate:!e.animate}}))}},{key:"render",value:function(){return!0===this.state.toEnd?i.a.createElement(f.b,{to:"/slave"}):i.a.createElement("div",{style:{backgroundColor:this.state.backgroundColor,height:1e3}},i.a.createElement("div",null,this.state.offset),i.a.createElement("div",null,i.a.createElement("button",{onClick:this.start}," START "),i.a.createElement("button",{onClick:this.toggleAnimation},"Toggle Animation")),i.a.createElement(y,{running:this.state.animate}))}}]),t}(i.a.Component),A=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("main",null,i.a.createElement(f.a,null,i.a.createElement(f.d,null,i.a.createElement(f.c,{exact:!0,path:"/",component:C}),i.a.createElement(f.c,{path:"/slave",component:O}))))}}]),t}(i.a.Component);n(117),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e,t,n){e.exports=n(118)},88:function(e,t){}},[[55,1,2]]]);
//# sourceMappingURL=main.66c278f3.chunk.js.map